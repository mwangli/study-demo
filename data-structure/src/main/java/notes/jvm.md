##### 类装载子系统

1. 加载：通过类的全限定名获取字节码文件，以二进制流的方式加载字节码文件，在内存中生成一个Class对象。
2. 链接：
    - 验证：验证当前字节码文件是否符合虚拟机规范，包含文件格式验证、元数据验证、字节码验证、符号引用验证。
    - 准备：为类变量分配内存并设置默认初始值，final修饰的变量在编译时分配，实例变量在堆上分配。
    - 解析：将常量池内符号引用转换为直接引用。
3. 初始化：执行类的构造器方法clinit()，按顺序执行类变量的赋值操作和静态代码块中的内容。

##### 类加载器

1. 引导类加载器：使用C/C++语言实现，用于加载包名为java、javax、sun等开头的核心类
2. 扩展类加载器：间接继承自ClassLoader，用于加载jre/lib/ext目录下的类
3. 系统类加载器：间接继承自ClassLoader，用于加载用户自己编写的类

##### 双亲委派机制

- 引导类加载器优先加载，确保底层API不被破坏

##### 运行时数据区

![运行时数据区](images/运行时数据区.png)

1. 程序计数器
2. 虚拟机栈
3. 本地方法栈
4. 堆空间
5. 方法区

##### 栈帧

1. 局部变量表
2. 操作数栈
3. 方法返回地址
4. 动态链接

##### 执行引擎

1. 解释器：逐行解释执行，快速响应，保证执行效率
2. 即时编译器：将热点代码翻译成机器执行并缓存，保证执行性能
3. 垃圾回收器

##### StringTable

1. 字符串存储格式

##### 垃圾回收

1. 标记阶段
    - 引用计数
    - 根可达分析
2. 清除阶段
    - 复制整理压缩
    - 复制清除